# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: Yandex Go Parser

## –ó–∞ 5 –º–∏–Ω—É—Ç –∫ —Ä–∞–±–æ—Ç–∞—é—â–µ–º—É –ø–∞—Ä—Å–µ—Ä—É!

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 –º–∏–Ω—É—Ç–∞)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
output/
‚îú‚îÄ‚îÄ cities.geojson          # ## üìÅ –ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```
output/
‚îú‚îÄ‚îÄ cities.geojson          # ÔøΩüåç –í—Å–µ –≥–æ—Ä–æ–¥–∞ —Å –∑–æ–Ω–∞–º–∏ (2.2 MB)
‚îú‚îÄ‚îÄ zones.geojson           # üó∫Ô∏è –í—Å–µ –∑–æ–Ω—ã –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ (19.6 MB)
‚îú‚îÄ‚îÄ scooters_full_info.geojson  # üõ¥ –° –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (--with-full-info)
‚îú‚îÄ‚îÄ city_zones/             # üóÇÔ∏è  –ó–æ–Ω—ã –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (82 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ polygon-184332.geojson
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ city_scooters/          # üõ¥ –°–∞–º–æ–∫–∞—Ç—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º
    ‚îú‚îÄ‚îÄ polygon-184332.geojson
    ‚îî‚îÄ‚îÄ ...
```–∑–æ–Ω–∞–º–∏ (2.2 MB)
‚îú‚îÄ‚îÄ zones.geojson           # üó∫Ô∏è –í—Å–µ –∑–æ–Ω—ã –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ (19.6 MB)
‚îú‚îÄ‚îÄ parkings.geojson        # üÖøÔ∏è  –ü–∞—Ä–∫–æ–≤–∫–∏ —Å–∞–º–æ–∫–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ scooters_full_info.geojson  # üõ¥ –°–∞–º–æ–∫–∞—Ç—ã —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (—Å --with-full-info)
‚îú‚îÄ‚îÄ city_zones/             # üóÇÔ∏è  –ó–æ–Ω—ã –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (82 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ polygon-184332.geojson
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ city_scooters/          # üõ¥ –°–∞–º–æ–∫–∞—Ç—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º
    ‚îú‚îÄ‚îÄ polygon-184332.geojson  # –°–æ—á–∏ (2,440 —Å–∞–º–æ–∫–∞—Ç–æ–≤)
    ‚îú‚îÄ‚îÄ custom_1770843272.geojson  # Custom bbox —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    ‚îî‚îÄ‚îÄ ...
```equests

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/felispimeja/github/yandex
```

### –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (2 –º–∏–Ω—É—Ç—ã)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Charles Proxy (Mac/Win): https://www.charlesproxy.com/
- Proxyman (Mac): https://proxyman.io/
- mitmproxy (Linux): https://mitmproxy.org/

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–Ω–∏—Ñ—Ñ–µ—Ä** (Charles Proxy / Proxyman)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL-–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è `*.yandex.net`
3. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Yandex Go** –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
4. **–ù–∞–π–¥–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å** –∫ `tc.mobile.yandex.net`
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**

   - `Authorization: Bearer ey...` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - `X-YaTaxi-Authorization: Bearer ey...` - –¥—É–±–ª–∏—Ä—É–µ—Ç Authorization
   - `X-Yandex-Jws: ey...` - JWT —Ç–æ–∫–µ–Ω (—Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ ~1.5 —á–∞—Å–∞)
   - `X-AppMetrica-UUID: 5662543c...` - UUID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - `X-YaTaxi-UserId: 7f39ce...` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

6. **–°–æ–∑–¥–∞–π—Ç–µ config.json:**
```bash
cp config.json.example config.json
nano config.json  # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

**–§–æ—Ä–º–∞—Ç `config.json`:**
```json
{
  "yandex_headers": {
    "Authorization": "Bearer eyJhbG...",
    "X-YaTaxi-Authorization": "Bearer eyJhbG...",
    "X-Yandex-Jws": "eyJ0eXAiOi...",
    "X-AppMetrica-UUID": "5662543c056f4d8c980cbff44615a957",
    "X-YaTaxi-UserId": "7f39ce79330b4e0ea3e1a71c02d33d93"
  },
  "payment_methods": [
    {
      "card": "card-xYOUR_CARD_ID",
      "account_id": "card"
    }
  ]
}
```

**‚ö†Ô∏è –ß—Ç–æ —Ç–∞–∫–æ–µ `payment_methods`?**
- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ `/offers/create` (–ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞—Ç–∞—Ä–µ–∏, —Ü–µ–Ω, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏)
- –ë–µ–∑ –Ω–µ–≥–æ API –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É 400
- –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –≤ Charles Proxy –≤ –∑–∞–ø—Ä–æ—Å–µ `/offers/create` –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É —Å–∞–º–æ–∫–∞—Ç–∞
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –≤–∫–ª—é—á–∞–µ—Ç `account_id: "card"`
- –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ (–±–µ–∑ `--with-full-info`) –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**‚ö†Ô∏è –í–∞–∂–Ω–æ –ø—Ä–æ —Ç–æ–∫–µ–Ω—ã:**
- **JWT —Ç–æ–∫–µ–Ω (`X-Yandex-Jws`)**:
  - –ù–æ–º–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ä–æ–∫: **1 —á–∞—Å** (3600 —Å–µ–∫—É–Ω–¥)
  - –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ä–æ–∫: **~1.5 —á–∞—Å–∞** (—Ä–∞–±–æ—Ç–∞–µ—Ç ~30 –º–∏–Ω –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è)
  - –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏: **HTTP 405**
- **Bearer —Ç–æ–∫–µ–Ω—ã**: –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ, –Ω–æ —Ç–æ–∂–µ –º–æ–≥—É—Ç –∏—Å—Ç–µ—á—å (HTTP 401/403)

**üí° –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ —Ç–æ–∫–µ–Ω–∞:**
```bash
python3 check_token.py
# –ü–æ–∫–∞–∂–µ—Ç: –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω, –∫–æ–≥–¥–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ (2 –º–∏–Ω—É—Ç—ã)

```bash
# 1Ô∏è‚É£ –ù–∞–π—Ç–∏ –≤—Å–µ –≥–æ—Ä–æ–¥–∞ —Å Yandex Go (–±—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ~2 –º–∏–Ω)
python3 fetch_cities.py

# 2Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–æ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ (~20-30 –º–∏–Ω)
python3 fetch_zones.py

# 2Ô∏è‚É£-–∞–ª—å—Ç. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–æ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
python3 fetch_zones.py --city "–°–æ—á–∏"

# 3Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∞–º–æ–∫–∞—Ç—ã –≤ –≥–æ—Ä–æ–¥–µ (–±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º)
python3 fetch_scooters.py polygon-184332  # –ü–æ ID –∏–∑ cities.geojson
python3 fetch_scooters.py --city "–°–æ—á–∏"   # –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞

# 3Ô∏è‚É£-–∞–ª—å—Ç. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∞–º–æ–∫–∞—Ç—ã —Å –ü–û–õ–ù–û–ô –ò–ù–§–û–†–ú–ê–¶–ò–ï–ô (–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º)
python3 fetch_scooters.py --city "–ú–∏–Ω—Å–∫" --with-full-info --delay 0.3
# ‚ö†Ô∏è –≠—Ç–æ –¥–æ–±–∞–≤–∏—Ç –±–∞—Ç–∞—Ä–µ—é, —Ü–µ–Ω—ã, —Å—Ç—Ä–∞—Ö–æ–≤–∫—É –¥–ª—è –ö–ê–ñ–î–û–ì–û —Å–∞–º–æ–∫–∞—Ç–∞
# ‚ö†Ô∏è 2,440 —Å–∞–º–æ–∫–∞—Ç–æ–≤ = ~12 –º–∏–Ω—É—Ç
# ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è payment_methods –≤ config.json!

# 4Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–∞—Ä–∫–æ–≤–∫–∏ –≤ –≥–æ—Ä–æ–¥–µ
python3 fetch_parkings.py polygon-184332  # –ü–æ ID
python3 fetch_parkings.py --city "–°–æ—á–∏"   # –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é
```

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏:**

| –†–µ–∂–∏–º | –§–ª–∞–≥ | –í—Ä–µ–º—è | –î–∞–Ω–Ω—ã–µ | payment_methods |
|-------|------|-------|--------|-----------------|
| –ë—ã—Å—Ç—Ä—ã–π | (–±–µ–∑ —Ñ–ª–∞–≥–∞) | ~5 —Å–µ–∫ | id, number, coordinates | ‚ùå –ù–µ –Ω—É–∂–µ–Ω |
| –ü–æ–ª–Ω—ã–π | `--with-full-info` | ~12 –º–∏–Ω | + –±–∞—Ç–∞—Ä–µ—è, –º–æ–¥–µ–ª—å, —Ü–µ–Ω—ã, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ | ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è |

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ–ª–Ω–æ–º —Ä–µ–∂–∏–º–µ (–≤–∞—Ä–∏–∞–Ω—Ç C):**
- **FeatureCollection.metadata**: operator, subscription, currency (1 —Ä–∞–∑ –Ω–∞ –≥–æ—Ä–æ–¥)
- **Feature.properties**: –±–∞—Ç–∞—Ä–µ—è, –º–æ–¥–µ–ª—å, —Ü–µ–Ω—ã, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–º–æ–∫–∞—Ç–∞)
- –ò—Ç–æ–≥–æ: **19 –ø–æ–ª–µ–π –Ω–∞ —Å–∞–º–æ–∫–∞—Ç** + city metadata (–≤–º–µ—Å—Ç–æ –ø–ª–æ—Å–∫–∏—Ö 57 –ø–æ–ª–µ–π)


## üìä –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ

### –ü–æ—Å–ª–µ `fetch_cities.py`:
```
üåç –ì–õ–û–ë–ê–õ–¨–ù–û–ï –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï –ì–û–†–û–î–û–í
=================================================================
–†–µ–∂–∏–º: –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (92 –∫–≤–∞–¥—Ä–∞—Ç–∞)
–ù–∞–π–¥–µ–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: 83
ÔøΩ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: output/cities.geojson (2.2 MB)
```

### –ü–æ—Å–ª–µ `fetch_zones.py`:
```
üó∫Ô∏è –ó–ê–ì–†–£–ó–ö–ê –ó–û–ù –î–õ–Ø –í–°–ï–• –ì–û–†–û–î–û–í
=================================================================
–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: 83
–í—Å–µ–≥–æ –∑–æ–Ω: 4,685
‚îú‚îÄ‚îÄ speed_limit: 2,028 (43.3%)
‚îú‚îÄ‚îÄ no_entry: 1,817 (38.8%)
‚îú‚îÄ‚îÄ no_parking: 811 (17.3%)
‚îî‚îÄ‚îÄ boundary: 29 (0.6%)
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: output/zones.geojson (19.6 MB)
```

### –ü–æ—Å–ª–µ `fetch_scooters.py`:
```
üõ¥ –£–ú–ù–´–ô –ü–ê–†–°–ò–ù–ì –°–ê–ú–û–ö–ê–¢–û–í
=================================================================
–ù–∞–π–¥–µ–Ω–æ —Å–∞–º–æ–∫–∞—Ç–æ–≤: 2,440
‚îú‚îÄ‚îÄ –û—Ç–¥–µ–ª—å–Ω—ã—Ö: 1,240
‚îú‚îÄ‚îÄ –í –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö (–ø–∞—Ä–∫–æ–≤–∫–∞—Ö): 1,200 (317 –ø–∞—Ä–∫–æ–≤–æ–∫)
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: output/city_scooters/custom_1770843272.geojson
‚è±Ô∏è  –í—Ä–µ–º—è: 29.6 —Å–µ–∫
```

### –ü–æ—Å–ª–µ `fetch_parkings.py`:
```
üÖøÔ∏è  –ü–ê–†–ö–û–í–ö–ò –°–ê–ú–û–ö–ê–¢–û–í
=================================================================
–ü–∞—Ä–∫–æ–≤–æ–∫ —Å —Å–∞–º–æ–∫–∞—Ç–∞–º–∏: 511
–ü—É—Å—Ç—ã—Ö –ø–∞—Ä–∫–æ–≤–æ–∫: 0
–°–∞–º–æ–∫–∞—Ç–æ–≤ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫–∞—Ö: 212
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: output/parkings.geojson
‚è±Ô∏è  –í—Ä–µ–º—è: 12.9 —Å–µ–∫
```

### –ü–æ—Å–ª–µ `fetch_scooters.py`:
```
‚úÖ –ì–û–¢–û–í–û!
ÔøΩ –§–∞–π–ª: /path/to/output/city_scooters/polygon-184332.geojson
‚è±Ô∏è  –í—Ä–µ–º—è: 5.2 —Å–µ–∫
ÔøΩ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –°–∞–º–æ–∫–∞—Ç–æ–≤: 280
   –ö–ª–∞—Å—Ç–µ—Ä–æ–≤: 57
```

## üìÅ –ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```
output/
‚îú‚îÄ‚îÄ cities.geojson          # üåç –í—Å–µ –≥–æ—Ä–æ–¥–∞ —Å –∑–æ–Ω–∞–º–∏ (2.2 MB)
‚îú‚îÄ‚îÄ zones.geojson           # üó∫Ô∏è –í—Å–µ –∑–æ–Ω—ã –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ (19.6 MB)
‚îú‚îÄ‚îÄ scooters.geojson        # ÔøΩ –°–∞–º–æ–∫–∞—Ç—ã –¥–ª—è –∫–∞—Ä—Ç
‚îú‚îÄ‚îÄ city_zones/             # ÔøΩÔ∏è  –ó–æ–Ω—ã –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (82 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ polygon-184332.geojson
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ tmp/
    ‚îú‚îÄ‚îÄ scooters.json       # üõ¥ –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∞–º–æ–∫–∞—Ç–æ–≤
    ‚îú‚îÄ‚îÄ fetch_cities_log.txt
    ‚îî‚îÄ‚îÄ ...
```

## üéØ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–≥—Ä—É–∑–∫–∞ –∑–æ–Ω

```bash
# –í—Å–µ –≥–æ—Ä–æ–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python3 fetch_zones.py

# –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –≥–æ—Ä–æ–¥–∞ #15 (–ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏)
python3 fetch_zones.py --continue_from 15

# –° –¥—Ä—É–≥–∏–º zoom –∏ –∑–∞–¥–µ—Ä–∂–∫–æ–π
python3 fetch_zones.py --zoom 17.0 --delay 0.2
```

### –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤

```bash
# –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≥–æ—Ä–æ–¥–∞, ~2 –º–∏–Ω)
python3 fetch_cities.py

# –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤—Å–µ 7,998 –∫–≤–∞–¥—Ä–∞—Ç–æ–≤, ~20 —á–∞—Å–æ–≤)
python3 fetch_cities.py --search_new

# –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –∫–≤–∞–¥—Ä–∞—Ç–∞ #5000
python3 fetch_cities.py --continue_from 5000

# –° –∑–∞–¥–µ—Ä–∂–∫–æ–π –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
python3 fetch_cities.py --delay 0.2
```

### –†–∞–∑–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —Å–∞–º–æ–∫–∞—Ç–æ–≤

```bash
# –£–º–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Ü–µ–ª–æ–≥–æ –≥–æ—Ä–æ–¥–∞
python3 fetch_scooters.py --bbox 39.6,43.4,39.9,43.7  # –°–æ—á–∏
python3 fetch_scooters.py --bbox 37.3,55.5,38.0,56.0  # –ú–æ—Å–∫–≤–∞

# –ü–∞—Ä–∫–æ–≤–∫–∏ –≥–æ—Ä–æ–¥–∞
python3 fetch_parkings.py --bbox 39.6,43.4,39.9,43.7  # –°–æ—á–∏
python3 fetch_parkings.py --bbox 37.3,55.5,38.0,56.0  # –ú–æ—Å–∫–≤–∞
```

## ‚ö†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### HTTP 405 Method Not Allowed
```
‚ùå JWT —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫
```
**–†–µ—à–µ–Ω–∏–µ:**
```bash
python3 check_token.py  # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ä–æ–∫
# –û–±–Ω–æ–≤–∏—Ç–µ X-Yandex-Jws –≤ config.json –∏–∑ Charles Proxy
```

### HTTP 401/403 Unauthorized
```
‚ùå Bearer —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
```
**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç–µ `Authorization` –∏ `X-YaTaxi-Authorization` –≤ `config.json`

### –°–∞–º–æ–∫–∞—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
```
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–∞–º–æ–∫–∞—Ç–æ–≤: 0
```
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –í –æ–±–ª–∞—Å—Ç–∏ –Ω–µ—Ç —Å–∞–º–æ–∫–∞—Ç–æ–≤
- Bbox —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π zoom

**–†–µ—à–µ–Ω–∏–µ:** 
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ü–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞
- –ò–∑–º–µ–Ω–∏—Ç–µ zoom (14, 15, 16)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README.md](README.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [API.md](API.md) - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –≤—Å–µ –≥–æ—Ä–æ–¥–∞ —Å Yandex Go –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–º–æ–∫–∞—Ç—ã –≤ –ª—é–±–æ–π –æ–±–ª–∞—Å—Ç–∏ (—É–º–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
- ‚úÖ –ò–∑–≤–ª–µ–∫–∞—Ç—å –ø–∞—Ä–∫–æ–≤–∫–∏ —Å–∞–º–æ–∫–∞—Ç–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Å–∞–º–æ–∫–∞—Ç–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è:**
- üÖøÔ∏è –ö–ª–∞—Å—Ç–µ—Ä—ã –≤ API = **–ø–∞—Ä–∫–æ–≤–∫–∏**, –∞ –Ω–µ –≥—Ä—É–ø–ø—ã —Å–∞–º–æ–∫–∞—Ç–æ–≤
- üîí –ü–∞—Ä–∫–æ–≤–∫–∏ –∏–º–µ—é—Ç **—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ ID** (–Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç zoom/bbox)
- üìä `payload.objects_count` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–º–æ–∫–∞—Ç–æ–≤ –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫–µ
- ‚ö° **Zoom 17** –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (zoom 19 –Ω–µ –Ω—É–∂–µ–Ω)

---

**–í–æ–ø—Ä–æ—Å—ã?** –°–º–æ—Ç—Ä–∏—Ç–µ [README.md](README.md) –∏–ª–∏ [API.md](API.md)
